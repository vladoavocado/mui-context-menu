"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,n=require("react"),t=require("@mui/material"),r=(e=require("@mui/icons-material/ChevronRight"))&&"object"==typeof e&&"default"in e?e.default:e,o=require("@mui/material/styles");function u(){console.info("Possibly you forgot to wrap your component with MUIContextMenuProvider.")}var i=n.createContext({setItems:u,setMenuAnchorRef:u,setMenuProps:u,menuAnchorEl:null});function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(null,arguments)}function s(e){var o=e.text,u=e.startAdornment,i=e.endAdornment,l=e.hasChildren,s=e.textProps;return"string"!=typeof o?n.createElement(n.Fragment,null,o):n.createElement(t.Stack,{flexDirection:"row",gap:2,justifyContent:"space-between",sx:{width:"100%"}},n.createElement(t.Stack,{gap:1,alignItems:"center",flexDirection:"row"},u,n.createElement(t.Typography,Object.assign({},s),o),i),l&&n.createElement(r,null))}function a(e){var r=e.isHighlighted,u=e.isTextComponent,i=e.highlight,l=void 0===i||i;return n.createElement(t.Box,{sx:function(e){var n=e.palette;return{px:2,py:1,width:"100%",pointerEvents:"all",backgroundColor:r&&l?o.alpha(n.primary.light,.2):"transparent","&:hover":{backgroundColor:u||l?o.alpha(n.primary.light,.2):"transparent",cursor:"default"}}},onClick:function(e){return e.preventDefault()},onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},e.children)}function c(e){var r,o,u=e.items,i=e.onClose,f=e.onAddRef,m=e.menuProps,d=e.menuAnchorEl,h=e.parentIndex,p=e.sx,v=n.useState({}),g=v[0],E=v[1],x=n.useRef({});return n.createElement(t.Menu,{ref:function(e){e&&(null==f||f(e))},open:Boolean(d),anchorEl:d,anchorOrigin:null!=(r=null==m?void 0:m.anchorOrigin)?r:{vertical:"top",horizontal:"left"},transformOrigin:null!=(o=null==m?void 0:m.transformOrigin)?o:{vertical:"top",horizontal:"right"},sx:l({padding:"1em",pointerEvents:"none","& .MuiList-root":{p:0}},p),disableAutoFocus:!0,disableEnforceFocus:!0,onMouseLeave:function(){g[h]||null==i||i()}},u.map((function(e,t){var r,o=e.text,i=e.children,m=e.textProps,d=e.startAdornment,p=e.endAdornment,v=h+"-"+t;return n.createElement(a,{key:v,highlight:e.highlight,isHighlighted:Boolean(g[v]&&u.length>1),isTextComponent:"string"==typeof o,onMouseEnter:function(e){return function(e,n){var t;x.current[e]&&(clearTimeout(x.current[e]),x.current[e]=null),E(((t={})[e]=n.currentTarget,t))}(v,e)},onMouseLeave:function(){g[v]&&i&&function(e){x.current[e]=setTimeout((function(){E((function(n){var t;return l({},n,((t={})[e]=null,t))})),x.current[e]=null}),600)}(v)}},n.createElement(s,{text:o,hasChildren:(null!=(r=null==i?void 0:i.length)?r:0)>=1,textProps:m,startAdornment:d,endAdornment:p}),i&&n.createElement(c,{items:i,menuAnchorEl:g[v],parentIndex:v,onAddRef:f,sx:{pointerEvents:"none","& .MuiMenuItem-root":{pointerEvents:"auto"}}}))})))}exports.useMUIContextMenu=function(e){var t=e.items,r=e.anchorRef,o=e.menuProps,u=n.useContext(i),l=u.setItems,s=u.setMenuAnchorRef,a=u.setMenuProps;return n.useEffect((function(){l(t)}),[t]),n.useEffect((function(){o&&a(o)}),[o]),{show:function(){s(r)},hide:function(){s(null)}}},exports.withMUIContextMenuProvider=function(e){return function(t){var r,o,u=n.useState([]),l=u[0],s=u[1],a=n.useState(null),f=a[0],m=a[1],d=n.useState(null),h=d[0],p=d[1],v=n.useRef([]),g=n.useMemo((function(){return{setItems:s,setMenuAnchorRef:m,setMenuProps:p,menuAnchorEl:f}}),[]);return n.useEffect((function(){function e(e){r&&(r.some((function(n){return null==n?void 0:n.contains(e.target)}))||null==o||o())}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[r=null==v?void 0:v.current,o=function(){return m(null)}]),n.createElement(i.Provider,{value:g},n.createElement(e,Object.assign({},t)),n.createElement(c,{items:l,parentIndex:"0",menuAnchorEl:f,menuProps:h,onClose:function(){return m(null)},onAddRef:function(e){v.current.includes(e)||v.current.push(e)}}))}};
//# sourceMappingURL=mui-context-menu.cjs.production.min.js.map
