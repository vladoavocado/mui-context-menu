"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,n=require("react"),t=require("@mui/material"),r=(e=require("@mui/icons-material/ChevronRight"))&&"object"==typeof e&&"default"in e?e.default:e,o=require("@mui/material/styles"),u=function(){console.info("Context menu is not initialized. Please wrap your component in <ContextMenuProvider>.")},i=n.createContext({openMenu:u,closeMenu:u,disableCloseOnOutsideClick:u,isOpen:!1});function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(null,arguments)}function s(e){var o=e.text,u=e.startAdornment,i=e.endAdornment,l=e.hasChildren,s=e.textProps;return"string"!=typeof o?n.createElement(n.Fragment,null,o):n.createElement(t.Stack,{flexDirection:"row",gap:2,justifyContent:"space-between",sx:{width:"100%"}},n.createElement(t.Stack,{gap:1,alignItems:"center",flexDirection:"row"},u,n.createElement(t.Typography,Object.assign({},s),o),i),l&&n.createElement(r,null))}var a=["onMouseEnter","onMouseLeave","isHighlighted","isTextComponent","highlight","children"];function c(e){var r=e.onMouseEnter,u=e.onMouseLeave,i=e.isHighlighted,l=e.isTextComponent,s=e.highlight,c=void 0===s||s,m=e.children,d=function(e,n){if(null==e)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==n.indexOf(r))continue;t[r]=e[r]}return t}(e,a);return n.createElement(t.Box,Object.assign({},d,{sx:[function(e){var n=e.palette;return{px:2,py:1,width:"100%",pointerEvents:"all",backgroundColor:i&&c?o.alpha(n.primary.light,.2):"transparent","&:hover":{backgroundColor:l||c?o.alpha(n.primary.light,.2):"transparent",cursor:"default"}}}].concat(Array.isArray(d.sx)?d.sx:[d.sx]),onMouseEnter:r,onMouseLeave:u}),m)}function m(e){var r,o,u=e.items,i=e.onAddRef,a=e.menuProps,d=e.menuAnchorEl,p=e.menuItemProps,f=e.parentIndex,h=e.sx,g=n.useState({}),v=g[0],x=g[1],C=n.useRef({});return n.useEffect((function(){d||x({})}),[d]),n.createElement(t.Menu,{ref:function(e){e&&(null==i||i(e))},open:Boolean(d),anchorEl:d,anchorOrigin:null!=(r=null==a?void 0:a.anchorOrigin)?r:{vertical:"center",horizontal:"center"},transformOrigin:null!=(o=null==a?void 0:a.transformOrigin)?o:{vertical:"top",horizontal:"right"},sx:l({padding:"1em",pointerEvents:"none","& .MuiList-root":{p:0}},h),disableAutoFocus:!0,disableEnforceFocus:!0},u.map((function(e,t){var r,o=e.text,d=e.children,h=e.textProps,g=e.startAdornment,M=e.endAdornment,O=f+"-"+t;return n.createElement(c,Object.assign({},p,{key:O,highlight:e.highlight,isHighlighted:Boolean(v[O]&&u.length>1),isTextComponent:"string"==typeof o,onMouseEnter:function(e){return function(e,n){var t;v[e]&&x({}),C.current[e]&&(clearTimeout(C.current[e]),C.current[e]=null),x(((t={})[e]=n.currentTarget,t))}(O,e)},onMouseLeave:function(){v[O]||v[O]&&d&&function(e){C.current[e]=setTimeout((function(){x((function(n){var t;return l({},n,((t={})[e]=null,t))})),C.current[e]=null}),300)}(O)}}),n.createElement(s,{text:o,hasChildren:(null!=(r=null==d?void 0:d.length)?r:0)>=1,textProps:h,startAdornment:g,endAdornment:M}),d&&n.createElement(m,{items:d,menuAnchorEl:v[O],parentIndex:O,onAddRef:i,menuItemProps:p,menuProps:a,sx:{pointerEvents:"none","& .MuiMenuItem-root":{pointerEvents:"auto"}}}))})))}exports.useMUIContextMenu=function(e){var t=e.items,r=e.anchorRef,o=e.menuProps,u=e.menuItemProps,l=n.useContext(i),s=l.openMenu;return{isOpen:l.isOpen,openMenu:function(){s({anchor:r||null,items:t,menuProps:o,itemProps:u})},closeMenu:l.closeMenu,disableCloseOnOutsideClick:function(){}}},exports.useMuiContextMenuSettings=function(){var e=n.useContext(i),t=e.disableCloseOnOutsideClick,r=e.closeMenu,o=e.isOpen;return n.useMemo((function(){return{disableCloseOnOutsideClick:t,closeMenu:r,isOpen:o}}),[t,o])},exports.withMUIContextMenuProvider=function(e){return function(t){var r,o,u=n.useState([]),l=u[0],s=u[1],a=n.useState(null),c=a[0],d=a[1],p=n.useState(null),f=p[0],h=p[1],g=n.useState(null),v=g[0],x=g[1],C=n.useState(!1),M=C[0],O=C[1],E=n.useRef([]),b=n.useCallback((function(e){var n=e.items,t=e.menuProps,r=e.itemProps,o=e.closeOnOutsideClick;d(e.anchor),s(n),h(null!=t?t:null),x(null!=r?r:null),O(null!=o&&o)}),[]),P=n.useCallback((function(){d(null)}),[]),y=n.useCallback((function(e){O(e)}),[]),A=n.useMemo((function(){return{closeMenu:P,openMenu:b,disableCloseOnOutsideClick:y,isOpen:Boolean(c)}}),[]);return n.useEffect((function(){function e(e){r&&(r.some((function(n){return null==n?void 0:n.contains(e.target)}))||null==o||o())}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[r=null==E?void 0:E.current,o=M?function(){}:P]),n.createElement(i.Provider,{value:A},n.createElement(e,Object.assign({},t)),n.createElement(m,{items:l,parentIndex:"0",menuAnchorEl:c,menuProps:f,menuItemProps:v,onClose:P,onAddRef:function(e){E.current.includes(e)||E.current.push(e)}}))}};
//# sourceMappingURL=mui-context-menu.cjs.production.min.js.map
