"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,n=require("react"),t=require("@mui/material"),r=(e=require("@mui/icons-material/ChevronRight"))&&"object"==typeof e&&"default"in e?e.default:e,o=require("@mui/material/styles");function u(){console.info("Possibly you forgot to wrap your component with MUIContextMenuProvider.")}var i=n.createContext({setItems:u,setMenuAnchorRef:u,setMenuProps:u,setMenuItemProps:u,menuAnchorEl:null});function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(null,arguments)}function l(e){var o=e.text,u=e.startAdornment,i=e.endAdornment,s=e.hasChildren,l=e.textProps;return"string"!=typeof o?n.createElement(n.Fragment,null,o):n.createElement(t.Stack,{flexDirection:"row",gap:2,justifyContent:"space-between",sx:{width:"100%"}},n.createElement(t.Stack,{gap:1,alignItems:"center",flexDirection:"row"},u,n.createElement(t.Typography,Object.assign({},l),o),i),s&&n.createElement(r,null))}var a=["onMouseEnter","onMouseLeave","isHighlighted","isTextComponent","highlight","children"];function c(e){var r=e.onMouseEnter,u=e.onMouseLeave,i=e.isHighlighted,s=e.isTextComponent,l=e.highlight,c=void 0===l||l,f=e.children,m=function(e,n){if(null==e)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==n.indexOf(r))continue;t[r]=e[r]}return t}(e,a);return n.createElement(t.Box,Object.assign({},m,{sx:[function(e){var n=e.palette;return{px:2,py:1,width:"100%",pointerEvents:"all",backgroundColor:i&&c?o.alpha(n.primary.light,.2):"transparent","&:hover":{backgroundColor:s||c?o.alpha(n.primary.light,.2):"transparent",cursor:"default"}}}].concat(Array.isArray(m.sx)?m.sx:[m.sx]),onMouseEnter:r,onMouseLeave:u}),f)}function f(e){var r,o,u=e.items,i=e.onClose,a=e.onAddRef,m=e.menuProps,h=e.menuAnchorEl,p=e.menuItemProps,d=e.parentIndex,g=e.sx,v=n.useState({}),E=v[0],x=v[1],M=n.useRef({});return n.useEffect((function(){h||x({})}),[h]),n.createElement(t.Menu,{ref:function(e){e&&(null==a||a(e))},open:Boolean(h),anchorEl:h,anchorOrigin:null!=(r=null==m?void 0:m.anchorOrigin)?r:{vertical:"center",horizontal:"center"},transformOrigin:null!=(o=null==m?void 0:m.transformOrigin)?o:{vertical:"top",horizontal:"right"},sx:s({padding:"1em",pointerEvents:"none","& .MuiList-root":{p:0}},g),disableAutoFocus:!0,disableEnforceFocus:!0,onMouseLeave:function(){E[d]||null==i||i()}},u.map((function(e,t){var r,o=e.text,i=e.children,h=e.textProps,g=e.startAdornment,v=e.endAdornment,P=d+"-"+t;return n.createElement(c,Object.assign({},p,{key:P,highlight:e.highlight,isHighlighted:Boolean(E[P]&&u.length>1),isTextComponent:"string"==typeof o,onMouseEnter:function(e){return function(e,n){var t;M.current[e]&&(clearTimeout(M.current[e]),M.current[e]=null),x(((t={})[e]=n.currentTarget,t))}(P,e)},onMouseLeave:function(){E[P]&&i&&function(e){M.current[e]=setTimeout((function(){x((function(n){var t;return s({},n,((t={})[e]=null,t))})),M.current[e]=null}),300)}(P)}}),n.createElement(l,{text:o,hasChildren:(null!=(r=null==i?void 0:i.length)?r:0)>=1,textProps:h,startAdornment:g,endAdornment:v}),i&&n.createElement(f,{items:i,menuAnchorEl:E[P],parentIndex:P,onAddRef:a,menuItemProps:p,menuProps:m,sx:{pointerEvents:"none","& .MuiMenuItem-root":{pointerEvents:"auto"}}}))})))}exports.useMUIContextMenu=function(e){var t=e.items,r=e.anchorRef,o=e.menuProps,u=e.menuItemProps,s=n.useContext(i),l=s.setItems,a=s.setMenuAnchorRef,c=s.setMenuProps,f=s.setMenuItemProps;return n.useEffect((function(){l(t)}),[t]),n.useEffect((function(){o&&c(o)}),[o]),n.useEffect((function(){u&&f(u)}),[u]),{show:function(){a(r)},hide:function(){a(null)}}},exports.withMUIContextMenuProvider=function(e){return function(t){var r,o,u=n.useState([]),s=u[0],l=u[1],a=n.useState(null),c=a[0],m=a[1],h=n.useState(null),p=h[0],d=h[1],g=n.useState(null),v=g[0],E=g[1],x=n.useRef([]),M=n.useMemo((function(){return{setItems:l,setMenuAnchorRef:m,setMenuItemProps:E,setMenuProps:d,menuAnchorEl:c}}),[]);return n.useEffect((function(){function e(e){r&&(r.some((function(n){return null==n?void 0:n.contains(e.target)}))||null==o||o())}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[r=null==x?void 0:x.current,o=function(){return m(null)}]),n.createElement(i.Provider,{value:M},n.createElement(e,Object.assign({},t)),n.createElement(f,{items:s,parentIndex:"0",menuAnchorEl:c,menuProps:p,menuItemProps:v,onClose:function(){return m(null)},onAddRef:function(e){x.current.includes(e)||x.current.push(e)}}))}};
//# sourceMappingURL=mui-context-menu.cjs.production.min.js.map
