{"version":3,"file":"mui-context-menu.cjs.development.js","sources":["../src/context/index.ts","../src/hooks/use-mui-context-menu.ts","../src/hooks/use-click-outside.ts","../src/hooks/use-mui-context-menu-settings.ts","../src/ui/IconText/index.tsx","../src/ui/MenuItem/index.tsx","../src/ui/Menu/index.tsx","../src/providers/index.tsx"],"sourcesContent":["// file: packages/mui-context-menu/src/context/ContextMenuContext.ts\nimport { createContext } from 'react';\nimport type {\n  MenuItemProps,\n  ShrunkMenuProps,\n  BaseMenuItemProps,\n} from '../types';\n\nexport interface ContextMenuOptions {\n  items: MenuItemProps[];\n  anchor: HTMLElement | null;\n  menuProps?: ShrunkMenuProps;\n  itemProps?: BaseMenuItemProps;\n  closeOnOutsideClick?: boolean;\n}\n\nexport interface ContextMenuContextValue {\n  disableCloseOnOutsideClick: (isDisabled: boolean) => void;\n  openMenu: (options: ContextMenuOptions) => void;\n  closeMenu: () => void;\n  isOpen: boolean;\n}\n\nconst noop = () => {\n  console.info(\n    'Context menu is not initialized. Please wrap your component in <ContextMenuProvider>.',\n  );\n};\n\nexport const ContextMenuContext = createContext<ContextMenuContextValue>({\n  openMenu: noop,\n  closeMenu: noop,\n  disableCloseOnOutsideClick: noop,\n  isOpen: false,\n});\n","import { useContext } from 'react';\nimport { ContextMenuContext, ContextMenuContextValue } from '../context';\nimport {\n  BaseMenuItemProps,\n  MenuAnchorRef,\n  MenuItemProps,\n  ShrunkMenuProps,\n} from '../types';\n\nexport type MUIContextMenuHookProps = {\n  items: MenuItemProps[];\n  anchorRef: MenuAnchorRef;\n  menuProps?: ShrunkMenuProps;\n  menuItemProps?: BaseMenuItemProps;\n};\n\nexport const useMUIContextMenu = ({\n  items,\n  anchorRef,\n  menuProps,\n  menuItemProps,\n}: MUIContextMenuHookProps): Omit<ContextMenuContextValue, 'openMenu'> & {\n  openMenu: () => void;\n} => {\n  const {\n    isOpen,\n    openMenu: baseOpenMenu,\n    closeMenu: baseCloseMenu,\n  } = useContext(ContextMenuContext);\n\n  return {\n    isOpen,\n    openMenu: () => {\n      baseOpenMenu({\n        anchor: anchorRef || null,\n        items,\n        menuProps,\n        itemProps: menuItemProps,\n      });\n    },\n    closeMenu: baseCloseMenu,\n    disableCloseOnOutsideClick: () => {},\n  };\n};\n","import { useEffect } from 'react';\n\nexport const useClickOutside = (\n  anchors: HTMLElement[],\n  onClose: () => void,\n) => {\n  useEffect(() => {\n    function handleClickOutside(event: MouseEvent | Event) {\n      if (!anchors) {\n        return;\n      }\n\n      const isClickInside = anchors.some(ref =>\n        ref?.contains(event.target as Node),\n      );\n\n      if (!isClickInside) {\n        onClose?.();\n      }\n    }\n\n    document.addEventListener('mousedown', handleClickOutside);\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [anchors, onClose]);\n};\n","import { useContext, useMemo } from 'react';\nimport { ContextMenuContext, ContextMenuContextValue } from '../context';\n\nexport const useMuiContextMenuSettings = () => {\n  const { disableCloseOnOutsideClick, closeMenu, isOpen } =\n    useContext(ContextMenuContext);\n\n  return useMemo<Omit<ContextMenuContextValue, 'openMenu'>>(\n    () => ({\n      disableCloseOnOutsideClick,\n      closeMenu,\n      isOpen,\n    }),\n    [disableCloseOnOutsideClick, isOpen],\n  );\n};\n","import * as React from 'react';\nimport { ReactNode } from 'react';\nimport { Stack, Typography, TypographyProps } from '@mui/material';\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\n\ntype IconTextProps = {\n  text: ReactNode;\n  startAdornment?: ReactNode;\n  endAdornment?: ReactNode;\n  hasChildren?: boolean;\n  textProps?: TypographyProps;\n};\n\nexport function IconText({\n  text,\n  startAdornment,\n  endAdornment,\n  hasChildren,\n  textProps,\n}: IconTextProps) {\n  if (typeof text !== 'string') {\n    return <>{text}</>;\n  }\n\n  return (\n    <Stack\n      flexDirection='row'\n      gap={2}\n      justifyContent='space-between'\n      sx={{ width: '100%' }}\n    >\n      <Stack gap={1} alignItems='center' flexDirection='row'>\n        {startAdornment}\n        <Typography {...textProps}>{text}</Typography>\n        {endAdornment}\n      </Stack>\n      {hasChildren && <ChevronRightIcon />}\n    </Stack>\n  );\n}\n","import * as React from 'react';\nimport { MouseEventHandler, ReactNode } from 'react';\nimport { alpha } from '@mui/material/styles';\nimport { Box } from '@mui/material';\nimport { BaseMenuItemProps } from '../../types';\n\ntype MenuItemProps = {\n  onMouseEnter: MouseEventHandler<HTMLElement>;\n  onMouseLeave: MouseEventHandler<HTMLElement>;\n  isHighlighted?: boolean;\n  isTextComponent?: boolean;\n  highlight?: boolean;\n  children?: ReactNode;\n} & BaseMenuItemProps;\n\nexport function MenuItem({\n  onMouseEnter,\n  onMouseLeave,\n  isHighlighted,\n  isTextComponent,\n  highlight = true,\n  children,\n  ...props\n}: MenuItemProps) {\n\n  return (\n    <Box\n      {...props}\n      sx={[({ palette }) => ({\n        px: 2,\n        py: 1,\n        width: '100%',\n        pointerEvents: 'all',\n        backgroundColor:\n          isHighlighted && highlight\n            ? alpha(palette.primary.light, 0.2)\n            : 'transparent',\n\n        '&:hover': {\n          backgroundColor:\n            isTextComponent || highlight\n              ? alpha(palette.primary.light, 0.2)\n              : 'transparent',\n          cursor: 'default',\n        },\n      }), ...(Array.isArray(props.sx) ? props.sx : [props.sx])]}\n      onMouseEnter={onMouseEnter}\n      onMouseLeave={onMouseLeave}\n    >\n      {children}\n    </Box>\n  );\n}\n\n// event => openMenu(id, event)\n","import * as React from 'react';\nimport { useRef, useState, MouseEvent, MouseEventHandler, useEffect } from 'react';\nimport { Menu as BaseMenu, SxProps } from '@mui/material';\nimport { BaseMenuItemProps, MenuItemProps, ShrunkMenuProps } from '../../types';\nimport { IconText } from '../IconText';\nimport { MenuItem } from '../MenuItem';\n\ntype MenuProps = {\n  items: MenuItemProps[];\n  parentIndex: string;\n  menuAnchorEl?: HTMLElement | null;\n  menuProps?: ShrunkMenuProps | null;\n  menuItemProps?: BaseMenuItemProps | null;\n  onAddRef?: (ref: HTMLElement) => void;\n  onClose?: () => void;\n  sx?: SxProps;\n};\n\nexport function Menu({\n  items,\n  // onClose,\n  onAddRef,\n  menuProps,\n  menuAnchorEl,\n  menuItemProps,\n  parentIndex,\n  sx,\n}: MenuProps) {\n  const [openSubmenus, setOpenSubmenus] = useState<\n    Record<string, HTMLElement | null>\n  >({});\n\n  const anchorTimeouts = useRef<Record<string, NodeJS.Timeout | null>>({});\n\n  const closeMenu = (id: string) => {\n    anchorTimeouts.current[id] = setTimeout(() => {\n      setOpenSubmenus(prevState => ({\n        ...prevState,\n        [id]: null,\n      }));\n\n      anchorTimeouts.current[id] = null;\n    }, 300);\n  };\n\n  const openMenu = (id: string, event: MouseEvent<HTMLElement>) => {\n    if (openSubmenus[id]) {\n      setOpenSubmenus({});\n    }\n\n    if (anchorTimeouts.current[id]) {\n      clearTimeout(anchorTimeouts.current[id]!);\n      anchorTimeouts.current[id] = null;\n    }\n\n    setOpenSubmenus({\n      [id]: event!.currentTarget,\n    });\n  };\n\n  useEffect(() => {\n    if (!menuAnchorEl) {\n      setOpenSubmenus({});\n    }\n  }, [menuAnchorEl]);\n\n  return (\n    <BaseMenu\n      ref={ref => {\n        if (ref) {\n          onAddRef?.(ref);\n        }\n      }}\n      open={Boolean(menuAnchorEl)}\n      anchorEl={menuAnchorEl}\n      anchorOrigin={\n        menuProps?.anchorOrigin ?? {\n          vertical: 'center',\n          horizontal: 'center',\n        }\n      }\n      transformOrigin={\n        menuProps?.transformOrigin ?? {\n          vertical: 'top',\n          horizontal: 'right',\n        }\n      }\n      sx={{\n        padding: '1em',\n        pointerEvents: 'none',\n\n        '& .MuiList-root': {\n          p: 0,\n        },\n        ...sx,\n      }}\n      disableAutoFocus\n      disableEnforceFocus\n    >\n      {items.map(\n        (\n          {\n            text,\n            children,\n            textProps,\n            highlight,\n            startAdornment,\n            endAdornment,\n          },\n          index,\n        ) => {\n          const id = `${parentIndex}-${index}`;\n          const onMouseEnter: MouseEventHandler<HTMLElement> = (event) => openMenu(id, event);\n          const onMouseLeave: MouseEventHandler<HTMLElement> = () => {\n            if (openSubmenus[id]) {\n              return;\n            }\n\n            if (openSubmenus[id] && children) {\n              closeMenu(id);\n            }\n          };\n\n          return (\n            <MenuItem\n              {...menuItemProps}\n              key={id}\n              highlight={highlight}\n              isHighlighted={Boolean(openSubmenus[id] && items.length > 1)}\n              isTextComponent={typeof text === 'string'}\n              onMouseEnter={onMouseEnter}\n              onMouseLeave={onMouseLeave}\n            >\n              <IconText\n                text={text}\n                hasChildren={(children?.length ?? 0) >= 1}\n                textProps={textProps}\n                startAdornment={startAdornment}\n                endAdornment={endAdornment}\n              />\n              {children && (\n                <Menu\n                  items={children}\n                  menuAnchorEl={openSubmenus[id]}\n                  parentIndex={id}\n                  onAddRef={onAddRef}\n                  menuItemProps={menuItemProps}\n                  menuProps={menuProps}\n                  sx={{\n                    pointerEvents: 'none',\n\n                    '& .MuiMenuItem-root': {\n                      pointerEvents: 'auto',\n                    },\n                  }}\n                />\n              )}\n            </MenuItem>\n          );\n        },\n      )}\n    </BaseMenu>\n  );\n}\n","import * as React from 'react';\nimport { useCallback, useMemo, useRef, useState } from 'react';\nimport { ContextMenuOptions, ContextMenuContext } from '../context';\nimport { Menu } from '../ui/Menu';\nimport { MenuItemProps, ShrunkMenuProps, BaseMenuItemProps } from '../types';\nimport { useClickOutside } from '../hooks';\n\ntype MUIContextMenuProviderProps = {};\n\nexport const withMUIContextMenuProvider = (\n  Component: (props: any) => JSX.Element | null,\n) =>\n  function MUIContextMenuProvider(props: MUIContextMenuProviderProps) {\n    const [items, setItems] = useState<MenuItemProps[]>([]);\n    const [anchorEl, setAnchorEl] = useState<HTMLElement | null>(null);\n    const [menuProps, setMenuProps] = useState<ShrunkMenuProps | null>(null);\n    const [itemProps, setItemProps] = useState<BaseMenuItemProps | null>(null);\n    const [disableOutsideClick, setDisableOutsideClick] =\n      useState<boolean>(false);\n    const submenuRefs = useRef<HTMLElement[]>([]);\n\n    const openMenu = useCallback((options: ContextMenuOptions) => {\n      const {\n        anchor,\n        items: customItems,\n        menuProps: customMenuProps,\n        itemProps: customItemProps,\n        closeOnOutsideClick,\n      } = options;\n      setAnchorEl(anchor);\n      setItems(customItems);\n      setMenuProps(customMenuProps ?? null);\n      setItemProps(customItemProps ?? null);\n      setDisableOutsideClick(closeOnOutsideClick ?? false);\n    }, []);\n\n    const closeMenu = useCallback(() => {\n      setAnchorEl(null);\n    }, []);\n\n    const disableCloseOnOutsideClick = useCallback((isDisabled: boolean) => {\n      setDisableOutsideClick(isDisabled);\n    }, []);\n\n    const contextApi = useMemo(\n      () => ({\n        closeMenu,\n        openMenu,\n        disableCloseOnOutsideClick,\n        isOpen: Boolean(anchorEl),\n      }),\n      [],\n    );\n\n    useClickOutside(\n      submenuRefs?.current,\n      disableOutsideClick ? () => {} : closeMenu,\n    );\n\n    return (\n      <ContextMenuContext.Provider value={contextApi}>\n        <Component {...props} />\n        <Menu\n          items={items}\n          parentIndex='0'\n          menuAnchorEl={anchorEl}\n          menuProps={menuProps}\n          menuItemProps={itemProps}\n          onClose={closeMenu}\n          onAddRef={(ref: HTMLElement) => {\n            if (!submenuRefs.current.includes(ref)) {\n              submenuRefs.current.push(ref);\n            }\n          }}\n        />\n      </ContextMenuContext.Provider>\n    );\n  };\n"],"names":["noop","console","info","ContextMenuContext","createContext","openMenu","closeMenu","disableCloseOnOutsideClick","isOpen","useMUIContextMenu","_ref","items","anchorRef","menuProps","menuItemProps","_useContext","useContext","baseOpenMenu","baseCloseMenu","anchor","itemProps","useClickOutside","anchors","onClose","useEffect","handleClickOutside","event","isClickInside","some","ref","contains","target","document","addEventListener","removeEventListener","useMuiContextMenuSettings","useMemo","IconText","text","startAdornment","endAdornment","hasChildren","textProps","React","Stack","flexDirection","gap","justifyContent","sx","width","alignItems","Typography","ChevronRightIcon","MenuItem","onMouseEnter","onMouseLeave","isHighlighted","isTextComponent","_ref$highlight","highlight","children","props","_objectWithoutPropertiesLoose","_excluded","Box","_ref2","palette","px","py","pointerEvents","backgroundColor","alpha","primary","light","cursor","concat","Array","isArray","Menu","onAddRef","menuAnchorEl","parentIndex","_useState","useState","openSubmenus","setOpenSubmenus","anchorTimeouts","useRef","id","current","setTimeout","prevState","_extends2","_extends","clearTimeout","_setOpenSubmenus","currentTarget","BaseMenu","open","Boolean","anchorEl","anchorOrigin","_menuProps$anchorOrig","vertical","horizontal","transformOrigin","_menuProps$transformO","padding","p","disableAutoFocus","disableEnforceFocus","map","_ref3","index","key","length","_children$length","withMUIContextMenuProvider","Component","MUIContextMenuProvider","setItems","_useState2","setAnchorEl","_useState3","setMenuProps","_useState4","setItemProps","_useState5","disableOutsideClick","setDisableOutsideClick","submenuRefs","useCallback","options","customItems","customMenuProps","customItemProps","closeOnOutsideClick","isDisabled","contextApi","Provider","value","includes","push"],"mappings":"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"}