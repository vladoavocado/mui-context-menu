{"version":3,"file":"mui-context-menu.esm.js","sources":["../src/context/index.ts","../src/hooks/use-mui-context-menu.ts","../src/hooks/use-click-outside.ts","../src/ui/IconText/index.tsx","../src/ui/MenuItem/index.tsx","../src/ui/Menu/index.tsx","../src/providers/index.tsx"],"sourcesContent":["import { createContext } from 'react';\nimport { MenuAnchorRef, BaseMenuItemProps, MenuItemProps, ShrunkMenuProps } from '../types';\n\nexport type MUIContextMenuProps = {\n  setItems(items: MenuItemProps[]): void;\n  setMenuAnchorRef(ref: MenuAnchorRef): void;\n  setMenuProps(props: ShrunkMenuProps): void;\n  setMenuItemProps(props: BaseMenuItemProps | null): void;\n  menuAnchorEl: HTMLElement | null;\n};\n\nfunction noop() {\n  // eslint-disable-next-line no-console\n  console.info(\n    `Possibly you forgot to wrap your component with MUIContextMenuProvider.`,\n  );\n}\n\nexport const MUIContextMenu = createContext<MUIContextMenuProps>({\n  setItems: noop,\n  setMenuAnchorRef: noop,\n  setMenuProps: noop,\n  setMenuItemProps: noop,\n  menuAnchorEl: null,\n});\n","import { useContext, useEffect } from 'react';\nimport { MUIContextMenu } from '../context';\nimport { BaseMenuItemProps, MenuAnchorRef, MenuItemProps, ShrunkMenuProps } from '../types';\n\nexport type MUIContextMenuHookProps = {\n  items: MenuItemProps[];\n  anchorRef: MenuAnchorRef;\n  menuProps?: ShrunkMenuProps;\n  menuItemProps?: BaseMenuItemProps;\n};\n\nexport const useMUIContextMenu = ({\n  items,\n  anchorRef,\n  menuProps,\n  menuItemProps,\n}: MUIContextMenuHookProps) => {\n  const { setItems, setMenuAnchorRef, setMenuProps, setMenuItemProps } =\n    useContext(MUIContextMenu);\n\n  useEffect(() => {\n    setItems(items);\n  }, [items]);\n\n  useEffect(() => {\n    if (menuProps) {\n      setMenuProps(menuProps);\n    }\n  }, [menuProps]);\n\n  useEffect(() => {\n    if (menuItemProps) {\n      setMenuItemProps(menuItemProps)\n    }\n  }, [menuItemProps]);\n\n  return {\n    show() {\n      setMenuAnchorRef(anchorRef);\n    },\n    hide() {\n      setMenuAnchorRef(null);\n    },\n  };\n};\n","import { useEffect } from 'react';\n\nexport const useClickOutside = (\n  anchors: HTMLElement[],\n  onClose: () => void,\n) => {\n  useEffect(() => {\n    function handleClickOutside(event: MouseEvent | Event) {\n      if (!anchors) {\n        return;\n      }\n\n      const isClickInside = anchors.some(ref =>\n        ref?.contains(event.target as Node),\n      );\n\n      if (!isClickInside) {\n        onClose?.();\n      }\n    }\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [anchors, onClose]);\n};\n","import * as React from 'react';\nimport { ReactNode } from 'react';\nimport { Stack, Typography, TypographyProps } from '@mui/material';\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\n\ntype IconTextProps = {\n  text: ReactNode;\n  startAdornment?: ReactNode;\n  endAdornment?: ReactNode;\n  hasChildren?: boolean;\n  textProps?: TypographyProps;\n};\n\nexport function IconText({\n  text,\n  startAdornment,\n  endAdornment,\n  hasChildren,\n  textProps,\n}: IconTextProps) {\n  if (typeof text !== 'string') {\n    return <>{text}</>;\n  }\n\n  return (\n    <Stack\n      flexDirection='row'\n      gap={2}\n      justifyContent='space-between'\n      sx={{ width: '100%' }}\n    >\n      <Stack gap={1} alignItems='center' flexDirection='row'>\n        {startAdornment}\n        <Typography {...textProps}>{text}</Typography>\n        {endAdornment}\n      </Stack>\n      {hasChildren && <ChevronRightIcon />}\n    </Stack>\n  );\n}\n","import * as React from 'react';\nimport { MouseEventHandler, ReactNode } from 'react';\nimport { alpha } from '@mui/material/styles';\nimport { Box } from '@mui/material';\nimport { BaseMenuItemProps } from '../../types';\n\ntype MenuItemProps = {\n  onMouseEnter: MouseEventHandler<HTMLElement>;\n  onMouseLeave: MouseEventHandler<HTMLElement>;\n  isHighlighted?: boolean;\n  isTextComponent?: boolean;\n  highlight?: boolean;\n  children?: ReactNode;\n} & BaseMenuItemProps;\n\nexport function MenuItem({\n  onMouseEnter,\n  onMouseLeave,\n  isHighlighted,\n  isTextComponent,\n  highlight = true,\n  children,\n  ...props\n}: MenuItemProps) {\n\n  return (\n    <Box\n      {...props}\n      sx={[({ palette }) => ({\n        px: 2,\n        py: 1,\n        width: '100%',\n        pointerEvents: 'all',\n        backgroundColor:\n          isHighlighted && highlight\n            ? alpha(palette.primary.light, 0.2)\n            : 'transparent',\n\n        '&:hover': {\n          backgroundColor:\n            isTextComponent || highlight\n              ? alpha(palette.primary.light, 0.2)\n              : 'transparent',\n          cursor: 'default',\n        },\n      }), ...(Array.isArray(props.sx) ? props.sx : [props.sx])]}\n      onMouseEnter={onMouseEnter}\n      onMouseLeave={onMouseLeave}\n    >\n      {children}\n    </Box>\n  );\n}\n\n// event => openMenu(id, event)\n","import * as React from 'react';\nimport { useRef, useState, MouseEvent, MouseEventHandler } from 'react';\nimport { Menu as BaseMenu, SxProps } from '@mui/material';\nimport { BaseMenuItemProps, MenuItemProps, ShrunkMenuProps } from '../../types';\nimport { IconText } from '../IconText';\nimport { MenuItem } from '../MenuItem';\n\ntype MenuProps = {\n  items: MenuItemProps[];\n  parentIndex: string;\n  menuAnchorEl?: HTMLElement | null;\n  menuProps?: ShrunkMenuProps | null;\n  menuItemProps?: BaseMenuItemProps | null;\n  onAddRef?: (ref: HTMLElement) => void;\n  onClose?: () => void;\n  sx?: SxProps;\n};\n\nexport function Menu({\n  items,\n  onClose,\n  onAddRef,\n  menuProps,\n  menuAnchorEl,\n  menuItemProps,\n  parentIndex,\n  sx,\n}: MenuProps) {\n  const [openSubmenus, setOpenSubmenus] = useState<\n    Record<string, HTMLElement | null>\n  >({});\n\n  const anchorTimeouts = useRef<Record<string, NodeJS.Timeout | null>>({});\n\n  const closeMenu = (id: string) => {\n    anchorTimeouts.current[id] = setTimeout(() => {\n      setOpenSubmenus(prevState => ({\n        ...prevState,\n        [id]: null,\n      }));\n\n      anchorTimeouts.current[id] = null;\n    }, 600);\n  };\n\n  const openMenu = (id: string, event: MouseEvent<HTMLElement>) => {\n    if (anchorTimeouts.current[id]) {\n      clearTimeout(anchorTimeouts.current[id]!);\n      anchorTimeouts.current[id] = null;\n    }\n\n    setOpenSubmenus({\n      [id]: event!.currentTarget,\n    });\n  };\n\n  return (\n    <BaseMenu\n      ref={ref => {\n        if (ref) {\n          onAddRef?.(ref);\n        }\n      }}\n      open={Boolean(menuAnchorEl)}\n      anchorEl={menuAnchorEl}\n      anchorOrigin={\n        menuProps?.anchorOrigin ?? {\n          vertical: 'center',\n          horizontal: 'center',\n        }\n      }\n      transformOrigin={\n        menuProps?.transformOrigin ?? {\n          vertical: 'top',\n          horizontal: 'right',\n        }\n      }\n      sx={{\n        padding: '1em',\n        pointerEvents: 'none',\n\n        '& .MuiList-root': {\n          p: 0,\n        },\n        ...sx,\n      }}\n      disableAutoFocus\n      disableEnforceFocus\n      onMouseLeave={() => {\n        if (!openSubmenus[parentIndex]) {\n          onClose?.();\n        }\n      }}\n    >\n      {items.map(\n        (\n          {\n            text,\n            children,\n            textProps,\n            highlight,\n            startAdornment,\n            endAdornment,\n          },\n          index,\n        ) => {\n          const id = `${parentIndex}-${index}`;\n          const onMouseEnter: MouseEventHandler<HTMLElement> = (event) => openMenu(id, event);\n          const onMouseLeave: MouseEventHandler<HTMLElement> = () => {\n            if (openSubmenus[id] && children) {\n              closeMenu(id);\n            }\n          };\n\n          return (\n            <MenuItem\n              {...menuItemProps}\n              key={id}\n              highlight={highlight}\n              isHighlighted={Boolean(openSubmenus[id] && items.length > 1)}\n              isTextComponent={typeof text === 'string'}\n              onMouseEnter={onMouseEnter}\n              onMouseLeave={onMouseLeave}\n            >\n              <IconText\n                text={text}\n                hasChildren={(children?.length ?? 0) >= 1}\n                textProps={textProps}\n                startAdornment={startAdornment}\n                endAdornment={endAdornment}\n              />\n              {children && (\n                <Menu\n                  items={children}\n                  menuAnchorEl={openSubmenus[id]}\n                  parentIndex={id}\n                  onAddRef={onAddRef}\n                  menuItemProps={menuItemProps}\n                  menuProps={menuProps}\n                  sx={{\n                    pointerEvents: 'none',\n\n                    '& .MuiMenuItem-root': {\n                      pointerEvents: 'auto',\n                    },\n                  }}\n                />\n              )}\n            </MenuItem>\n          );\n        },\n      )}\n    </BaseMenu>\n  );\n}\n","import * as React from 'react';\nimport { useMemo, useRef, useState } from 'react';\nimport { MUIContextMenu } from '../context';\nimport { Menu } from '../ui/Menu';\nimport { MenuItemProps, ShrunkMenuProps, BaseMenuItemProps } from '../types';\nimport { useClickOutside } from '../hooks';\n\ntype MUIContextMenuProviderProps = {};\n\nexport const withMUIContextMenuProvider = (\n  Component: (props: any) => JSX.Element | null,\n) =>\n  function MUIContextMenuProvider(props: MUIContextMenuProviderProps) {\n    const [items, setItems] = useState<MenuItemProps[]>([]);\n    const [menuAnchorEl, setMenuAnchorRef] = useState<HTMLElement | null>(null);\n    const [menuProps, setMenuProps] = useState<ShrunkMenuProps | null>(null);\n    const [menuItemProps, setMenuItemProps] = useState<BaseMenuItemProps | null>(null);\n    const submenuRefs = useRef<HTMLElement[]>([]);\n\n    const contextApi = useMemo(\n      () => ({\n        setItems,\n        setMenuAnchorRef,\n        setMenuItemProps,\n        setMenuProps,\n        menuAnchorEl,\n      }),\n      [],\n    );\n\n    useClickOutside(submenuRefs?.current, () => setMenuAnchorRef(null));\n\n    return (\n      <MUIContextMenu.Provider value={contextApi}>\n        <Component {...props} />\n        <Menu\n          items={items}\n          parentIndex='0'\n          menuAnchorEl={menuAnchorEl}\n          menuProps={menuProps}\n          menuItemProps={menuItemProps}\n          onClose={() => setMenuAnchorRef(null)}\n          onAddRef={(ref: HTMLElement) => {\n            if (!submenuRefs.current.includes(ref)) {\n              submenuRefs.current.push(ref);\n            }\n          }}\n        />\n      </MUIContextMenu.Provider>\n    );\n  };\n"],"names":["noop","console","info","MUIContextMenu","createContext","setItems","setMenuAnchorRef","setMenuProps","setMenuItemProps","menuAnchorEl","useMUIContextMenu","_ref","items","anchorRef","menuProps","menuItemProps","_useContext","useContext","useEffect","show","hide","useClickOutside","anchors","onClose","handleClickOutside","event","isClickInside","some","ref","contains","target","document","addEventListener","removeEventListener","IconText","text","startAdornment","endAdornment","hasChildren","textProps","React","Stack","flexDirection","gap","justifyContent","sx","width","alignItems","Typography","ChevronRightIcon","MenuItem","onMouseEnter","onMouseLeave","isHighlighted","isTextComponent","_ref$highlight","highlight","children","props","_objectWithoutPropertiesLoose","_excluded","Box","_ref2","palette","px","py","pointerEvents","backgroundColor","alpha","primary","light","cursor","concat","Array","isArray","Menu","onAddRef","parentIndex","_useState","useState","openSubmenus","setOpenSubmenus","anchorTimeouts","useRef","closeMenu","id","current","setTimeout","prevState","_extends2","_extends","openMenu","clearTimeout","_setOpenSubmenus","currentTarget","BaseMenu","open","Boolean","anchorEl","anchorOrigin","_menuProps$anchorOrig","vertical","horizontal","transformOrigin","_menuProps$transformO","padding","p","disableAutoFocus","disableEnforceFocus","map","_ref3","index","key","length","_children$length","withMUIContextMenuProvider","Component","MUIContextMenuProvider","_useState2","_useState3","_useState4","submenuRefs","contextApi","useMemo","Provider","value","includes","push"],"mappings":"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"}